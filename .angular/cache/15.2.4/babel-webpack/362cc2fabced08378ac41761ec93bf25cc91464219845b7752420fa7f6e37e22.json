{"ast":null,"code":"import { ActivatedRoute, Router } from '@angular/router';\nimport { CustomerService } from '../customer.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../customer.service\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction CustomerEditComponent_div_0_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" First name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CustomerEditComponent_div_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtemplate(1, CustomerEditComponent_div_0_div_9_div_1_Template, 2, 0, \"div\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    var _r2 = i0.ɵɵreference(8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r2.errors.required);\n  }\n}\nfunction CustomerEditComponent_div_0_div_15_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Last name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CustomerEditComponent_div_0_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtemplate(1, CustomerEditComponent_div_0_div_15_div_1_Template, 2, 0, \"div\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    var _r4 = i0.ɵɵreference(14);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors.required);\n  }\n}\nfunction CustomerEditComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"form\", 3, 4)(4, \"div\", 5)(5, \"label\", 6);\n    i0.ɵɵtext(6, \"First Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 7, 8);\n    i0.ɵɵlistener(\"ngModelChange\", function CustomerEditComponent_div_0_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.customer.name.first = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, CustomerEditComponent_div_0_div_9_Template, 2, 1, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 5)(11, \"label\", 10);\n    i0.ɵɵtext(12, \"Last Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 11, 12);\n    i0.ɵɵlistener(\"ngModelChange\", function CustomerEditComponent_div_0_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.customer.name.last = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, CustomerEditComponent_div_0_div_15_Template, 2, 1, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 5)(17, \"label\", 13);\n    i0.ɵɵtext(18, \"Birthday\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 14, 15);\n    i0.ɵɵlistener(\"ngModelChange\", function CustomerEditComponent_div_0_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.customer.birthday = $event);\n    })(\"click\", function CustomerEditComponent_div_0_Template_input_click_19_listener() {\n      i0.ɵɵrestoreView(_r11);\n      var _r6 = i0.ɵɵreference(20);\n      return i0.ɵɵresetView(_r6.toggle());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 5)(23, \"label\", 16);\n    i0.ɵɵtext(24, \"Gender\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function CustomerEditComponent_div_0_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.customer.gender = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 5)(27, \"label\", 18);\n    i0.ɵɵtext(28, \"Last contact\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function CustomerEditComponent_div_0_Template_input_ngModelChange_29_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.customer.lastContact = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 5)(31, \"label\", 20);\n    i0.ɵɵtext(32, \"Life time value\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function CustomerEditComponent_div_0_Template_input_ngModelChange_33_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.customer.customerLifetimeValue = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(34, \"div\", 22)(35, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function CustomerEditComponent_div_0_Template_button_click_35_listener() {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.cancel());\n    });\n    i0.ɵɵtext(36, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function CustomerEditComponent_div_0_Template_button_click_37_listener() {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.save());\n    });\n    i0.ɵɵtext(38, \"Save\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    var _r2 = i0.ɵɵreference(8);\n    var _r4 = i0.ɵɵreference(14);\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.customer.name.first);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r2.invalid && (_r2.dirty || _r2.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.customer.name.last);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r4.invalid && (_r4.dirty || _r4.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.customer.birthday);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.customer.gender);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.customer.lastContact);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.customer.customerLifetimeValue);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.isValid());\n  }\n}\nvar CustomerEditComponent = /** @class */function () {\n  function CustomerEditComponent(route, customerS, router) {\n    this.route = route;\n    this.customerS = customerS;\n    this.router = router;\n  }\n  CustomerEditComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    var id = Number(this.route.snapshot.paramMap.get('id'));\n    if (id === -1) {\n      this.customer = this.initData();\n    } else {\n      this.customerS.getCustomer(id).subscribe(function (customer) {\n        customer.birthday = _this.formatBirthday(customer.birthday);\n        _this.customer = customer;\n      });\n    }\n  };\n  CustomerEditComponent.prototype.save = function () {\n    var _this = this;\n    if (this.isValid()) {\n      if (typeof this.customer.birthday !== 'string') {\n        this.customer.birthday = this.formatString(this.customer.birthday);\n      }\n      this.customerS.save(this.customer).subscribe(function (message) {\n        console.log(message);\n        if (_this.customer.customerID === -1) {\n          _this.router.navigate(['customers']);\n        } else {\n          _this.router.navigate(['customers', _this.customer.customerID]);\n        }\n      });\n    }\n  };\n  CustomerEditComponent.prototype.cancel = function () {\n    if (this.customer.customerID === -1) {\n      this.router.navigate(['customers']);\n    } else {\n      this.router.navigate(['customers', this.customer.customerID]);\n    }\n  };\n  CustomerEditComponent.prototype.isValid = function () {\n    if (this.customer.name.first && this.customer.name.last && this.customer.birthday && this.customer.gender) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  CustomerEditComponent.prototype.formatBirthday = function (birthday) {\n    var date = birthday.split('-');\n    return {\n      year: Number(date[0]),\n      month: Number(date[1]),\n      day: Number(date[2])\n    };\n  };\n  CustomerEditComponent.prototype.formatString = function (birthday) {\n    return \"\".concat(birthday.year, \"-\").concat(birthday.month, \"-\").concat(birthday.day);\n  };\n  CustomerEditComponent.prototype.initData = function () {\n    return {\n      customerID: -1,\n      name: {\n        first: '',\n        last: ''\n      },\n      birthday: '',\n      gender: 'm',\n      lastContact: '',\n      customerLifetimeValue: 0\n    };\n  };\n  CustomerEditComponent.ɵfac = function CustomerEditComponent_Factory(t) {\n    return new (t || CustomerEditComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CustomerService), i0.ɵɵdirectiveInject(i1.Router));\n  };\n  CustomerEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CustomerEditComponent,\n    selectors: [[\"ng-component\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"card\", 4, \"ngIf\"], [1, \"card\"], [1, \"card-body\"], [\"novalidate\", \"\"], [\"customerForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"firstName\"], [\"type\", \"text\", \"name\", \"firstName\", \"id\", \"firstName\", \"aria-describedby\", \"firstName\", \"placeholder\", \"Enter name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"lastName\"], [\"type\", \"text\", \"name\", \"lasttName\", \"id\", \"lastName\", \"aria-describedby\", \"lastName\", \"placeholder\", \"Enter last name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"last\", \"ngModel\"], [\"for\", \"birthday\"], [\"type\", \"text\", \"ngbDatepicker\", \"\", \"name\", \"birthday\", \"id\", \"birthday\", \"aria-describedby\", \"birthday\", \"placeholder\", \"Enter birthday\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"click\"], [\"d\", \"ngbDatepicker\", \"m\", \"ngModel\"], [\"for\", \"gender\"], [\"type\", \"text\", \"name\", \"gender\", \"id\", \"gender\", \"aria-describedby\", \"gender\", \"placeholder\", \"Enter gender\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lastContact\"], [\"type\", \"text\", \"name\", \"lastContact\", \"id\", \"lastContact\", \"aria-describedby\", \"lastContact\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"customerLifetimeValue\"], [\"type\", \"text\", \"name\", \"customerLifetimeValue\", \"id\", \"customerLifetimeValue\", \"aria-describedby\", \"customerLifetimeValue\", \"placeholder\", \"Enter life time value\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"card-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"alert\", \"alert-danger\"], [4, \"ngIf\"]],\n    template: function CustomerEditComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CustomerEditComponent_div_0_Template, 39, 9, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.customer);\n      }\n    },\n    dependencies: [i3.NgbInputDatepicker, i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n    styles: [\".card[_ngcontent-%COMP%]{background-color:#fcfefc;border-color:#87bba2;color:#2d3c2d}.card-footer[_ngcontent-%COMP%]{display:flex}.card-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:auto}input[_ngcontent-%COMP%]{border-color:#87bba2}[_ngcontent-%COMP%]::placeholder{color:#2d3c2d;opacity:1}.form-control[_ngcontent-%COMP%]:focus{border-color:#87bba2;box-shadow:0 0 0 .2rem #0e582c40}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#fcfefc}button[_ngcontent-%COMP%]{color:#2d3c2d;background-color:#fcfefc;border-color:#87bba2}button[_ngcontent-%COMP%]:disabled, button[disabled][_ngcontent-%COMP%]{border:1px solid #2d3c2d;background-color:#2d3c2d;color:#fcfefc}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background-color:#fcfefc;border-color:#87bba2;color:#2d3c2d}input[_ngcontent-%COMP%]:read-only, input[readonly][_ngcontent-%COMP%]{pointer-events:none;background-color:#87bba2!important}[_nghost-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:#fcfefc;border-color:#87bba2;color:#2d3c2d!important}@media only screen and (min-device-width : 320px) and (max-device-width : 480px){label[_ngcontent-%COMP%]{margin-left:13px}}\"]\n  });\n  return CustomerEditComponent;\n}();\nexport { CustomerEditComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}